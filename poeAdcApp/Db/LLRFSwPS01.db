
record(stringin, "LLRFSwPS01:SaveName"){
    field(VAL,  "LLRFSwPS01.sav")
    field(PINI, "YES")
    field(DESC, "Autosave destination file")
}

record(waveform, "LLRFSwPS01:ADC0:Data-Mon"){
    field(PINI, "YES")
    field(DESC, "ADC0 Data")
    field(SCAN, "$(SCAN=1 second)")
    field(DTYP, "stream")
    field(INP,  "@ADC.proto getData(ADC0) $(PORT) $(A)")
    field(FTVL, "DOUBLE")
    field(NELM, "4")
}
record(calc, "LLRFSwPS01:ADC0:Data-Mon_enbl"){
   field(CALC, "A#0")
   field(INPA, "LLRFSwPS01:ADC0:Data-Mon.STAT CP")
   field(INPB, "LLRFSwPS01:ADC0:Data-Mon CP")
}
record(waveform, "LLRFSwPS01:ADC1:Data-Mon"){
    field(PINI, "YES")
    field(DESC, "ADC1 Data")
    field(SCAN, "$(SCAN=1 second)")
    field(DTYP, "stream")
    field(INP,  "@ADC.proto getData(ADC1) $(PORT) $(A)")
    field(FTVL, "DOUBLE")
    field(NELM, "4")
}
record(calc, "LLRFSwPS01:ADC1:Data-Mon_enbl"){
   field(CALC, "A#0")
   field(INPA, "LLRFSwPS01:ADC1:Data-Mon.STAT CP")
   field(INPB, "LLRFSwPS01:ADC1:Data-Mon CP")
}
record(waveform, "LLRFSwPS01:ADC2:Data-Mon"){
    field(PINI, "YES")
    field(DESC, "ADC2 Data")
    field(SCAN, "$(SCAN=1 second)")
    field(DTYP, "stream")
    field(INP,  "@ADC.proto getData(ADC2) $(PORT) $(A)")
    field(FTVL, "DOUBLE")
    field(NELM, "4")
}
record(calc, "LLRFSwPS01:ADC2:Data-Mon_enbl"){
   field(CALC, "A#0")
   field(INPA, "LLRFSwPS01:ADC2:Data-Mon.STAT CP")
   field(INPB, "LLRFSwPS01:ADC2:Data-Mon CP")
}
record(waveform, "LLRFSwPS01:ADC3:Data-Mon"){
    field(PINI, "YES")
    field(DESC, "ADC3 Data")
    field(SCAN, "$(SCAN=1 second)")
    field(DTYP, "stream")
    field(INP,  "@ADC.proto getData(ADC3) $(PORT) $(A)")
    field(FTVL, "DOUBLE")
    field(NELM, "4")
}
record(calc, "LLRFSwPS01:ADC3:Data-Mon_enbl"){
   field(CALC, "A#0")
   field(INPA, "LLRFSwPS01:ADC3:Data-Mon.STAT CP")
   field(INPB, "LLRFSwPS01:ADC3:Data-Mon CP")
}

record(calc, "RA-RaBO01:RF-LLRFSwPS:VoltPos5V-Mon"){
    field(CALC, "(5.*A/4095.)*(1.5)")
    field(INPA, "LLRFSwPS01:ADC0:Data-Mon.VAL[0] CP MSS")
    field(EGU, "V")
    field(DESC, "Tensão de saída da fonte de 5 Volts")
    field(MDEL, "0.001")
    field(DISV, "1")
    field(DISS, "INVALID")
    field(PREC, "4")
    field(SDIS, "LLRFSwPS01:ADC0:Data-Mon_enbl")
}

record(calc, "RA-RaBO01:RF-LLRFSwPS:VoltPos24V-Mon"){
    field(CALC, "(5.*A/4095.)*(5.99)")
    field(INPA, "LLRFSwPS01:ADC0:Data-Mon.VAL[1] CP MSS")
    field(EGU, "V")
    field(DESC, "Tensão de saída da fonte de 24 Volts")
    field(MDEL, "0.001")
    field(DISV, "1")
    field(DISS, "INVALID")
    field(PREC, "4")
    field(SDIS, "LLRFSwPS01:ADC0:Data-Mon_enbl")
}

record(calc, "RA-RaBO01:RF-LLRFSwPS:VoltPos3V3-Mon"){
    field(CALC, "(5.*A/4095.)*(1)")
    field(INPA, "LLRFSwPS01:ADC0:Data-Mon.VAL[2] CP MSS")
    field(EGU, "V")
    field(DESC, "Tensão de saída da fonte de 3.3 Volts")
    field(MDEL, "0.001")
    field(DISV, "1")
    field(DISS, "INVALID")
    field(PREC, "4")
    field(SDIS, "LLRFSwPS01:ADC0:Data-Mon_enbl")
}

record(calc,"RA-RaBO01:RF-LLRFSwPS:CurrentPos5V-Mon_raw"){
    field(CALC, "(5.*A/4095.)*(1)")
    field(INPA, "LLRFSwPS01:ADC1:Data-Mon.VAL[0] CP MSS")
    field(DISV, "1")
    field(DISS, "INVALID")
    field(SDIS, "LLRFSwPS01:ADC1:Data-Mon_enbl")
    field(PREC, "4")
}
# ((ADC1[0] - 0.5) / 0.4)
record(calc, "RA-RaBO01:RF-LLRFSwPS:CurrentPos5V-Mon"){
    field(CALC, "((A - 0.5)/0.4)")
    field(INPA, "RA-RaBO01:RF-LLRFSwPS:CurrentPos5V-Mon_raw CP MSS")
    field(PREC, "4")
    field(MDEL, "0.001")
    field(EGU,  "A")
    field(DISV, "1")
    field(DISS, "INVALID")
    field(SDIS, "LLRFSwPS01:ADC1:Data-Mon_enbl")
}

record(calc,"RA-RaBO01:RF-LLRFSwPS:CurrentPos24V-Mon_raw"){
    field(CALC, "(5.*A/4095.)*(1)")
    field(INPA, "LLRFSwPS01:ADC1:Data-Mon.VAL[1] CP MSS")
    field(DISV, "1")
    field(DISS, "INVALID")
    field(SDIS, "LLRFSwPS01:ADC1:Data-Mon_enbl")
    field(PREC, "4")
}
# ((ADC1[1] - 0.5) / 0.4)
record(calc, "RA-RaBO01:RF-LLRFSwPS:CurrentPos24V-Mon"){
    field(CALC, "((A - 0.5)/0.4)")
    field(INPA, "RA-RaBO01:RF-LLRFSwPS:CurrentPos24V-Mon_raw CP MSS")
    field(PREC, "4")
    field(MDEL, "0.001")
    field(EGU,  "A")
    field(DISV, "1")
    field(DISS, "INVALID")
    field(SDIS, "LLRFSwPS01:ADC1:Data-Mon_enbl")
}

record(calc,"RA-RaBO01:RF-LLRFSwPS:CurrentPos3V3-Mon_raw"){
    field(CALC, "(5.*A/4095.)*(1)")
    field(INPA, "LLRFSwPS01:ADC1:Data-Mon.VAL[2] CP MSS")
    field(DISV, "1")
    field(DISS, "INVALID")
    field(SDIS, "LLRFSwPS01:ADC1:Data-Mon_enbl")
    field(PREC, "4")
}
# ((ADC1[2] - 0.5) / 0.4)
record(calc, "RA-RaBO01:RF-LLRFSwPS:CurrentPos3V3-Mon"){
    field(CALC, "((A - 0.5)/0.4)")
    field(INPA, "RA-RaBO01:RF-LLRFSwPS:CurrentPos3V3-Mon_raw CP MSS")
    field(PREC, "4")
    field(MDEL, "0.001")
    field(EGU,  "A")
    field(DISV, "1")
    field(DISS, "INVALID")
    field(SDIS, "LLRFSwPS01:ADC1:Data-Mon_enbl")
}
